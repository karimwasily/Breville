<sly data-sly-use.carousel="com.adobe.cq.wcm.core.components.models.Carousel"></sly>
<sly data-sly-use.placeholderTemplate="core/wcm/components/commons/v1/templates.html" data-sly-test.hasContent="${properties.fileReference}"></sly>


<div data-panelcontainer="${wcmmode.edit && 'carousel'}" id="${carousel.id}" class="cmp-recipecarousel  cmp-carousel" role="group"
    aria-live="polite" aria-roledescription="carousel" data-cmp-is="carousel" data-cmp-autoplay="${(wcmmode.edit || wcmmode.preview) ? '' : carousel.autoplay}"
    data-cmp-delay="${carousel.delay}" data-cmp-autopause-disabled="${carousel.autopauseDisabled}" data-cmp-data-layer="${carousel.data.json}">
    <div class="cmp-recipecarousel__image">
        <img class="cmp-recipecarousel__background" src="${properties.fileReference}">
    </div>
    <div class="cmp-recipecarousel__tagline-wrapper">
        <h5 class="cmp-recipecarousel__tagline">${properties.tagline}</h5>
        <div class="cmp-recipecarousel_separator" data-sly-resource="${ @ resourceType='breville-brands/components/separator'}"></div>
    </div>
    <div data-sly-test="${carousel.items && carousel.items.size > 0}" class="cmp-recipecarousel__content" aria-atomic="false"
        aria-live="${carousel.autoplay ? 'off' : 'polite'}">
        <div data-sly-repeat.item="${carousel.items}" data-sly-resource="${item.name @ decorationTagName='div'}"
            id="${item.id}" class="cmp-recipecarousel__item cmp-carousel__item${itemList.first ? ' cmp-carousel__item--active cmp-carousel__item-first' : ''}${itemList.last ? ' cmp-carousel__item-last' : ''}"
            role="tabpanel" aria-roledescription="slide" data-cmp-data-layer="${item.data.json}" data-cmp-hook-carousel="item">
        </div>
        <div class="cmp-recipecarousel__actions" data-sly-test="${carousel.items.size > 1}">
            <button class="cmp-recipecarousel__action cmp-recipecarousel__action--previous" type="button" data-cmp-hook-carousel="previous" style="visibility: hidden">
                <span class="cmp-recipecarousel__action-icon icon-arrow-left"></span>
            </button>
            <button class="cmp-recipecarousel__action cmp-recipecarousel__action--next" type="button" data-cmp-hook-carousel="next">
                <span class="cmp-recipecarousel__action-icon icon-arrow-right"></span>
            </button>
        </div>
        <ol class="cmp-recipecarousel__indicators" role="tablist" data-cmp-hook-carousel="indicators">
            <li data-sly-repeat.item="${carousel.items}" role="tab" aria-controls="${carousel.id}-item-${itemList.index}" data-cmp-hook-carousel="indicator"></li>
        </ol>
    </div>
    <sly data-sly-resource="${resource.path @ resourceType='wcm/foundation/components/parsys/newpar', appendPath='/*', decorationTagName='div', cssClassName='new section aem-Grid-newComponent'}"
        data-sly-test="${(wcmmode.edit || wcmmode.preview) && carousel.items.size < 1}"></sly>
</div>

<sly data-sly-call="${placeholderTemplate.placeholder @ isEmpty=!hasContent}"></sly>